# 画面一覧

## 1. ログイン画面
### 概要
固定2アカウントでのログイン機能を提供（サーバ管理なし）

### 機能
- ユーザーID入力
- パスワード入力
- ログインボタン

### 遷移先
- 物件一覧画面

---

## 2. 物件一覧画面
### 概要
登録されている物件の一覧を表示

### 機能
- 物件リスト表示
- 物件検索/フィルタ
- 物件選択
- 新規物件追加

### 遷移先
- 物件詳細画面（物件選択時）

---

## 3. 物件詳細画面
### 概要
選択した物件の詳細情報を表示・管理

### 機能
- 物件情報表示
- 階層情報管理
- データエクスポート（USB経由でPC取り込み用）
- 物件編集
- 物件削除

### 遷移先
- 階層入力画面
- 物件一覧画面（戻る）

---

## 4. 階層入力画面
### 概要
物件の階層（階数など）を入力・管理

### 機能
- 階層追加
- 階層編集
- 階層削除
- 階層選択

### 遷移先
- 図面取り込み画面（階層選択時）
- 物件詳細画面（戻る）

---

## 5. 図面取り込み画面
### 概要
階層に紐づく図面を取り込み

### 機能
- 図面画像の選択（カメラ/ギャラリー）
- 図面プレビュー
- 図面登録
- 図面削除

### 遷移先
- 図面表示画面（図面登録後）
- 階層入力画面（戻る）

---

## 6. 図面表示画面
### 概要
取り込んだ図面を表示し、撮影箇所をタップで指定
※本アプリのメイン画面

### 機能
- 図面画像表示
- 撮影箇所タップ（位置データ保存）
- タップ済み箇所の表示（マーカー表示）
- 参考画像撮影ボタン（右上）
- 参考画像一覧ボタン（右上）
- 図面の拡大/縮小/スクロール

### 遷移先
- 検査情報入力画面（撮影箇所タップ時）
- 参考画像撮影画面（参考画像撮影ボタン押下時）
- 参考画像一覧画面（参考画像一覧ボタン押下時）
- 階層入力画面（戻る）

---

## 7. 検査情報入力画面
### 概要
撮影前に検査項目と結果を入力

### 機能
- 大分類選択
- 中分類選択（大分類に応じて選択肢変更）
- 小分類選択（中分類に応じて選択肢変更）
- 検査結果選択（a / b1 / b2 / c）
- 確定ボタン

### 条件分岐
- 検査結果が「a」または「b1」：図面表示画面に戻る
- 検査結果が「b2」または「c」：撮影画面へ遷移

### 遷移先
- 撮影画面（b2/c選択時）
- 図面表示画面（戻る / a/b1選択時）

---

## 8. 撮影画面
### 概要
不具合箇所を撮影

### 機能
- カメラ起動
- 撮影実行
- 撮影し直しボタン
- 撮影キャンセル

### 遷移先
- 不具合記入画面（撮影完了時）
- 検査情報入力画面（キャンセル時）

---

## 9. 不具合記入画面
### 概要
撮影した画像に不具合情報を記入

### 機能
- 撮影画像表示
- 場所入力（自由入力）
- 部位入力（自由入力）
- 劣化状況入力（自由入力）
- 補修・改修の範囲・方法入力（自由入力）
- 保存ボタン
- 撮影し直しボタン
- キャンセルボタン

### データ保存内容
- 画像データ
- 図面上の位置データ
- 検査情報（大分類、中分類、小分類、検査結果）
- 不具合情報（場所、部位、劣化状況、補修・改修の範囲・方法）

### 遷移先
- 図面表示画面（保存時）
- 撮影画面（撮影し直し時）
- 検査情報入力画面（キャンセル時）

---

## 10. 参考画像撮影画面
### 概要
不具合以外の参考画像を撮影

### 機能
- カメラ起動
- 撮影実行
- 撮影し直しボタン
- メモ入力（任意）
- 保存ボタン
- キャンセルボタン

### データ保存内容
- 画像データ
- 物件ID（紐付け）
- メモ（任意）

### 遷移先
- 図面表示画面（保存時/キャンセル時）

---

## 11. 参考画像一覧画面
### 概要
撮影した参考画像の一覧表示と管理

### 機能
- 参考画像リスト表示（サムネイル）
- 画像タップでプレビュー
- 画像削除
- メモ編集

### 遷移先
- 図面表示画面（戻る）

---

## 12. 不具合一覧画面
### 概要
登録された不具合の一覧表示と管理

### 機能
- 不具合リスト表示（サムネイル・検査結果バッジ付き）
- 不具合タップで詳細表示
- 不具合の削除
- 不具合の編集
- 検査情報の確認（大分類、中分類、小分類、検査結果）
- 新しい順にソート表示

### 遷移先
- 不具合編集画面（編集ボタン）
- 図面表示画面（戻る）

---

## 13. 不具合編集画面
### 概要
既存の不具合情報を編集

### 機能
- 撮影画像表示
- 画像の再撮影
- 場所編集
- 部位編集
- 劣化状況編集
- 補修・改修の範囲・方法編集
- 検査情報表示（変更不可）
- 更新ボタン

### データ保存内容
- 更新された不具合情報
- 新しい画像データ（再撮影時）

### 遷移先
- 撮影画面（再撮影時）
- 不具合一覧画面（更新時・キャンセル時）

---

## 画面遷移フロー

```
ログイン画面
  ↓
物件一覧画面
  ↓
物件詳細画面
  ↓
階層入力画面
  ↓
図面取り込み画面
  ↓
図面表示画面 ←→ 参考画像撮影画面
  ↓  ↓  ↓       ↓
  |  |  |     参考画像一覧画面
  |  |  ↓
  |  | 不具合一覧画面
  |  |   ↓
  |  | 不具合編集画面 ←→ 撮影画面（再撮影）
  |  |
  ↓  ↓
検査情報入力画面
  ↓（b2/c選択時）
撮影画面
  ↓
不具合記入画面
  ↓
図面表示画面（戻る）
```

---

## データエクスポート機能

### 概要
USBケーブルでPCに接続し、物件単位でデータを取り出す

### エクスポート対象データ
- 物件情報
- 階層情報
- 図面画像
- 撮影箇所の位置データ
- 検査情報（大分類、中分類、小分類、検査結果）
- 不具合画像
- 不具合情報（場所、部位、劣化状況、補修・改修の範囲・方法）
- 参考画像
- 参考画像メモ

### データ形式
- エクセル報告書への取り込みを想定した形式
- 画像ファイル + メタデータ（JSON/CSV等）

